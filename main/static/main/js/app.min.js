const formOpenBtn=document.querySelector(".app__button"),form=document.querySelector(".app__form"),textarea=document.querySelector(".form-create__description");formOpenBtn.addEventListener("click",function(){formOpenBtn.style.transform="rotate(45deg)",form.style.maxHeight?(form.style.maxHeight=null,formOpenBtn.style.transform="rotate(0deg)"):(form.style.maxHeight=form.scrollHeight+textarea.scrollHeight+50+"px",formOpenBtn.style.transform="rotate(45deg)")}),document.addEventListener("mousedown",e=>{document.querySelector(".app__button").contains(e.target)||document.querySelector(".app__form").contains(e.target)||(form.style.maxHeight=null,formOpenBtn.style.transform="rotate(0deg)")});let taskId_=0;function setTaskId(e){taskId_=e,console.log("set taskId = ",taskId_)}function getTaskId(){return console.log("get taskId = ",taskId_),taskId_}const modal=document.querySelector(".modal"),modalBtns=document.querySelectorAll(".task__remove-btn"),formYes=document.querySelector(".modal__btn"),body=document.body,formNo=(modalBtns.forEach(e=>{e.addEventListener("click",()=>{modal.classList.toggle("modal__show"),body.classList.toggle("block"),formYes.setAttribute("href","/delete/"+getTaskId())})}),document.querySelectorAll(".modal__btn")[1]),items=(formNo&&formNo.addEventListener("click",()=>{modal.classList.toggle("modal__show"),body.classList.toggle("block")}),document.querySelector(".app__items").querySelectorAll(".task__preview")),formTextarea=(items.forEach(o=>{o.addEventListener("click",function(){var e=o.nextElementSibling,t=o.querySelector(".task__icon");e.style.maxHeight?(e.style.maxHeight=null,t.style.transform="rotate(0deg)"):(document.querySelectorAll(".task__description").forEach(e=>{e.style.maxHeight&&(e.style.maxHeight=null,items.forEach(e=>{e.querySelector(".task__icon").style.transform="rotate(0deg)"}))}),e.style.maxHeight=e.scrollHeight+e.style.height+"px",t.style.transform="rotate(180deg)")})}),document.getElementsByTagName("textarea")[0]);function countCharsAtField(e,t,o){e=document.querySelector("#"+e);let r=document.querySelector(`[${t}]`);e.addEventListener("input",function(){this.value.length===o?r.innerHTML="Max length":r.innerHTML=this.value.length+"/"+o})}function setCountCharsAtField(e,t,o){e=document.querySelector("#"+e),t=document.querySelector(`[${t}]`);e.value.length===o?t.innerHTML="Max length":t.innerHTML=e.value.length+"/"+o}formTextarea.style.height=formTextarea.scrollHeight+20+"px",formTextarea.addEventListener("input",e=>{formTextarea.style.height="40px",formTextarea.style.height=e.target.scrollHeight+"px"}),countCharsAtField("id_title","data-title-number",36),countCharsAtField("id_description","data-description-number",200),document.addEventListener("DOMContentLoaded",function(){setCountCharsAtField("id_title","data-title-number",36),setCountCharsAtField("id_description","data-description-number",200)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0tY3JlYXRlLmpzIiwibW9kYWwuanMiLCJzY3JpcHQuanMiLCJ1dGlscy9sZXR0ZXJDb3VudGVyLmpzIl0sIm5hbWVzIjpbImZvcm1PcGVuQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZm9ybSIsInRleHRhcmVhIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0eWxlIiwidHJhbnNmb3JtIiwibWF4SGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwiY29udGFpbnMiLCJlIiwidGFyZ2V0IiwibGV0IiwidGFza0lkXyIsInNldFRhc2tJZCIsInRhc2tJZCIsImNvbnNvbGUiLCJsb2ciLCJnZXRUYXNrSWQiLCJtb2RhbCIsIm1vZGFsQnRucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JtWWVzIiwiYm9keSIsImZvcm1ObyIsImZvckVhY2giLCJtb2RhbEJ0biIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInNldEF0dHJpYnV0ZSIsIml0ZW1zIiwiZm9ybVRleHRhcmVhIiwiZWwiLCJkcm9wZG93bkRlc2MiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJhcnJvdyIsIml0ZW0iLCJoZWlnaHQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNvdW50Q2hhcnNBdEZpZWxkIiwiZmllbGQiLCJudW1zRmllbGQiLCJtYXgiLCJpbnB1dCIsImluZm8iLCJ0aGlzIiwidmFsdWUiLCJsZW5ndGgiLCJpbm5lckhUTUwiLCJzZXRDb3VudENoYXJzQXRGaWVsZCIsImV2ZW50Il0sIm1hcHBpbmdzIjoiQUFDQSxNQUFBQSxZQUFBQyxTQUFBQyxjQUFBLGNBQUEsRUFDQUMsS0FBQUYsU0FBQUMsY0FBQSxZQUFBLEVBQ0FFLFNBQUFILFNBQUFDLGNBQUEsMkJBQUEsRUFFQUYsWUFBQUssaUJBQUEsUUFBQSxXQUNBTCxZQUFBTSxNQUFBQyxVQUFBLGdCQUNBSixLQUFBRyxNQUFBRSxXQUNBTCxLQUFBRyxNQUFBRSxVQUFBLEtBQ0FSLFlBQUFNLE1BQUFDLFVBQUEsaUJBRUFKLEtBQUFH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QWdDLE9BQUEsT0FDQU4sYUFBQTFCLE1BQUFnQyxPQUFBYSxFQUFBdkMsT0FBQUgsYUFBQSxJQUNBLENBQUEsRUFlQStCLGtCQUFBLFdBQUEsb0JBQUEsRUFBQSxFQUNBQSxrQkFBQSxpQkFBQSwwQkFBQSxHQUFBLEVBZUF2QyxTQUFBSSxpQkFBQSxtQkFBQSxXQUNBNkMscUJBQUEsV0FBQSxvQkFBQSxFQUFBLEVBQ0FBLHFCQUFBLGlCQUFBLDBCQUFBLEdBQUEsQ0FDQSxDQUFBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyDQntGC0LrRgNGL0YLQuNC1INGE0L7RgNC80Ysg0YHQvtC30LTQsNC90LjRjyDRgtCw0YHQutCwXG5jb25zdCBmb3JtT3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcHBfX2J1dHRvbicpO1xuY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcHBfX2Zvcm0nKTtcbmNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tY3JlYXRlX19kZXNjcmlwdGlvbicpO1xuXG5mb3JtT3BlbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgZm9ybU9wZW5CdG4uc3R5bGUudHJhbnNmb3JtID0gYHJvdGF0ZSg0NWRlZylgO1xuICBpZiAoZm9ybS5zdHlsZS5tYXhIZWlnaHQpIHtcbiAgICBmb3JtLnN0eWxlLm1heEhlaWdodCA9IG51bGw7XG4gICAgZm9ybU9wZW5CdG4uc3R5bGUudHJhbnNmb3JtID0gYHJvdGF0ZSgwZGVnKWA7XG4gIH0gZWxzZSB7XG4gICAgZm9ybS5zdHlsZS5tYXhIZWlnaHQgPVxuICAgICAgZm9ybS5zY3JvbGxIZWlnaHQgKyB0ZXh0YXJlYS5zY3JvbGxIZWlnaHQgKyA1MCArICdweCc7XG4gICAgZm9ybU9wZW5CdG4uc3R5bGUudHJhbnNmb3JtID0gYHJvdGF0ZSg0NWRlZylgO1xuICB9XG59KTtcblxuLy8g0JfQsNC60YDRi9GC0LjQtSDRhNC+0YDQvNGLLCDQtdGB0LvQuCDQutC70LjQuiDQstC90LUg0LXRkVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgaWYgKFxuICAgICEoXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwX19idXR0b24nKS5jb250YWlucyhlLnRhcmdldCkgfHxcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcHBfX2Zvcm0nKS5jb250YWlucyhlLnRhcmdldClcbiAgICApXG4gICkge1xuICAgIGZvcm0uc3R5bGUubWF4SGVpZ2h0ID0gbnVsbDtcbiAgICBmb3JtT3BlbkJ0bi5zdHlsZS50cmFuc2Zvcm0gPSBgcm90YXRlKDBkZWcpYDtcbiAgfVxufSk7XG4iLCJsZXQgdGFza0lkXyA9IDA7XG5cbi8vINCj0YHRgtCw0L3QvtCy0LjRgtGMIGlkINGC0LDRgdC60LBcbmZ1bmN0aW9uIHNldFRhc2tJZCh0YXNrSWQpIHtcbiAgdGFza0lkXyA9IHRhc2tJZDtcbiAgY29uc29sZS5sb2coJ3NldCB0YXNrSWQgPSAnLCB0YXNrSWRfKTtcbn1cblxuLy8g0JLQt9GP0YLRjCBpZCDRgtCw0YHQutCwXG5mdW5jdGlvbiBnZXRUYXNrSWQoKSB7XG4gIGNvbnNvbGUubG9nKCdnZXQgdGFza0lkID0gJywgdGFza0lkXyk7XG4gIHJldHVybiB0YXNrSWRfO1xufVxuXG4vKiDQodC+0LHRgdGC0LLQtdC90L3QviDQt9Cw0YfQtdC8INGN0YLQviDQvdGD0LbQvdC+OlxuICog0K8g0L/RgNC40YbQvdC40L/QuNCw0LvRjNC90L4g0L3QtSDRhdC+0YLQtdC7INGB0L7Qt9C00LDQstCw0YLRjCDQvtGC0LTQtdC70YzQvdGD0Y4g0YHRgtGA0LDQvdC40YbRgyDQtNC70Y8g0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRjyDRgtCw0YHQutCwLlxuICog0KLQsNC60LbQtSDRjyDQv9GA0LjQvdGG0LjQv9C40LDQu9GM0L3QviDQvdC1INGF0L7RgtC10Lsg0LTQtdC70LDRgtGMINC00LvRjyDQutCw0LbQtNC+0LPQviDRjdC70LXQvNC10L3RgtCwINGE0L7RgNC80YMg0LTQu9GPINC10LPQviDRg9C00LDQu9C10L3QuNGPICjQl9Cw0YfQtdC8INGC0LDQuiDQs9GA0YPQt9C40YLRjCDRgdGC0YDQsNC90LjRhtGDPylcbiAqINCjINC80LXQvdGPINC10YHRgtGMINC+0LTQvdC+INC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3Qviwg0YEg0L/QvtC00YLQstC10YDQttC00LXQvdC40LXQvCDRg9C00LDQu9C10L3QuNGPINGC0LDRgdC60LAgKNGB0L7QsdGB0YLQstC10L3QvdC+INCy0LXRgdGMINGN0YLQvtGCINGC0LDQvdC10YYg0LjQty3Qt9CwINC90LXQs9C+LCDQvNC+0LbQvdC+INCx0YvQu9C+INCx0YtcbiAqINCx0LXQtyDQstGB0Y/QutC40YUg0L/QvtC00YLQstC10YDQttC00LXQvdC40Lkg0YPQtNCw0LvRj9GC0Ywg0L/RgNC+0YHRgtC+INC/0L4g0LrQu9C40LrRgywg0L3QviDQvtC/0Y/RgtGMINC20LUsINC90LDQtNC+INGB0L7Qt9C00LDQstCw0YLRjCDQvtGC0LTQtdC70YzQvdGL0LkgdXJsKS4g0Jgg0LIg0Y3RgtC+INC80L7QtNCw0LvRjNC90L7QtVxuICog0L7QutC90L4sINCwINGC0L7Rh9C90LXQtSDQsiBidXR0b24g0YHQviDQt9C90LDRh9C10L3QuNC10LwgXCJZZXNcIiAobWFpbi9pbmRleC5odG1sKSwg0L3Rg9C20L3QviDQsdGL0LvQviDQutCw0Lot0YLQviDQv9C10YDQtdC00LDRgtGMIFwidGFzayBpZFwiLiDQodC+0LHRgdGC0LLQtdC90L3QviDQt9C00LXRgdGMINC4INGA0LXQsNC70LjQt9Cw0YbQuNGPXG4gKiDRjdGC0L7QuSDQutC+0LzQv9C+0LfQuNGG0LjQuC4g0J/QviDQutC70LjQutGDINC90LAg0LrQvdC+0L/QutGDINC60L7QvdC60YDQtdGC0L3QvtCz0L4g0YLQsNGB0LrQsCwg0LzRiyDQstGL0YHRgtCw0LLQu9GP0LXQvCDQv9C10YDQtdC80LXQvdC90YPRjiBcInRhc2tJZFwiINCyINGB0LrRgNC40L/RgtC1INGA0LDQstC90YPRjiBpZCDRjdGC0L7Qs9C+INGC0LDRgdC60LAg0LIg0LHQtFxuICogKNGN0YLQviDQvNGLINC00LXQu9Cw0LXQvCDRh9C10YDQtdC3INGI0LDQsdC70L7QvdC40LfQsNGC0L7RgCkg0Lgg0YLRg9GCINC20LUg0L7RgtC60YDRi9Cy0LDQtdGC0YHRjyDRhNC+0YDQvNCwLCDQs9C00LUg0LIg0YHQu9GD0YfQsNC1INC10YHQu9C4INC60LvQuNC6INCx0YPQtNC10YIg0L/QviBidXR0b24g0YHQviDQt9C90LDRh9C10L3QuNC10LwgXCJZZXNcIixcbiAqINGC0L4g0LIg0LDRgtGC0YDQuNCx0YPRgtC1IFwidmFsdWVcIiDRjdGC0L7QuSDQutC90L7Qv9C60Lgg0YPQttC1INC70LXQttC40YIgaWQg0YLQsNGB0LrQsCwg0LrQvtGC0L7RgNGL0Lkg0L3QtdC+0LHRhdC+0LTQuNC80L4g0YPQtNCw0LvQuNGC0YwuXG4gKiDQndCwINCx0Y3QutC10L3QtNC1INCyINC+0LHRgNCw0LHQvtGC0LrQtSDQsNCx0YHQvtC70Y7RgtC90L4g0L3QuNGH0LXQs9C+INGB0LLQtdGA0YXRitC10YHRgtC10YHRgtCy0LXQvdC90L7Qs9C+ICjRjdGC0L4g0LLQviAtPiB2aWV3cy5weSkuXG4gKiAqL1xuXG4vLyDQnNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L5cbmNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJyk7XG5jb25zdCBtb2RhbEJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFza19fcmVtb3ZlLWJ0bicpO1xuY29uc3QgZm9ybVllcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fYnRuJyk7XG5jb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcblxubW9kYWxCdG5zLmZvckVhY2goKG1vZGFsQnRuKSA9PiB7XG4gIG1vZGFsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG1vZGFsLmNsYXNzTGlzdC50b2dnbGUoJ21vZGFsX19zaG93Jyk7XG4gICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdibG9jaycpO1xuICAgIGZvcm1ZZXMuc2V0QXR0cmlidXRlKCdocmVmJywgYC9kZWxldGUvJHtnZXRUYXNrSWQoKX1gKTtcbiAgfSk7XG59KTtcblxuY29uc3QgZm9ybU5vID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsX19idG4nKVsxXTtcbmlmIChmb3JtTm8pIHtcbiAgZm9ybU5vLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG1vZGFsLmNsYXNzTGlzdC50b2dnbGUoJ21vZGFsX19zaG93Jyk7XG4gICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdibG9jaycpO1xuICB9KTtcbn1cbiIsIi8vINCQ0LrQutC+0YDQtNC10L7QvVxuY29uc3QgaXRlbXMgPSBkb2N1bWVudFxuICAucXVlcnlTZWxlY3RvcignLmFwcF9faXRlbXMnKVxuICAucXVlcnlTZWxlY3RvckFsbCgnLnRhc2tfX3ByZXZpZXcnKTtcblxuaXRlbXMuZm9yRWFjaCgoZWwpID0+IHtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZHJvcGRvd25EZXNjID0gZWwubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIGNvbnN0IGFycm93ID0gZWwucXVlcnlTZWxlY3RvcignLnRhc2tfX2ljb24nKTtcblxuICAgIGlmIChkcm9wZG93bkRlc2Muc3R5bGUubWF4SGVpZ2h0KSB7XG4gICAgICBkcm9wZG93bkRlc2Muc3R5bGUubWF4SGVpZ2h0ID0gbnVsbDtcbiAgICAgIGFycm93LnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGUoMGRlZylgO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDQldGB0LvQuCDQvNGLINC+0YLQutGA0YvQstCw0LXQvCDQt9Cw0LrRgNGL0YLRi9C5INCw0LrQutC+0YDQtNC10L7QvSwg0YLQviDQt9Cw0LrRgNGL0LLQsNC10Lwg0L7RgtC60YDRi9GC0YvQuVxuICAgICAgY29uc3Qgb3BlbmVkSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFza19fZGVzY3JpcHRpb24nKTtcblxuICAgICAgb3BlbmVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAvLyDQldGB0LvQuCDQvtC/0LjRgdCw0L3QuNC1INC+0YLQutGA0YvRgtC+LCDRgtC+INC30LDQutGA0YvQstCw0LXQvFxuICAgICAgICBpZiAoaXRlbS5zdHlsZS5tYXhIZWlnaHQpIHtcbiAgICAgICAgICBpdGVtLnN0eWxlLm1heEhlaWdodCA9IG51bGw7XG4gICAgICAgICAgLy8g0KDQsNC30LLQvtGA0LDRh9C40LLQsNC10Lwg0YHRgtGA0LXQu9C60Lgg0YMg0L7RgtC60YDRi9GC0L7Qs9C+XG4gICAgICAgICAgaXRlbXMuZm9yRWFjaCgoYXJyb3cpID0+IHtcbiAgICAgICAgICAgIGFycm93LnF1ZXJ5U2VsZWN0b3IoJy50YXNrX19pY29uJykuc3R5bGUudHJhbnNmb3JtID0gYHJvdGF0ZSgwZGVnKWA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBkcm9wZG93bkRlc2Muc3R5bGUubWF4SGVpZ2h0ID0gZHJvcGRvd25EZXNjLnNjcm9sbEhlaWdodCArIGRyb3Bkb3duRGVzYy5zdHlsZS5oZWlnaHQgKyAncHgnO1xuICAgICAgYXJyb3cuc3R5bGUudHJhbnNmb3JtID0gYHJvdGF0ZSgxODBkZWcpYFxuICAgIH1cbiAgfSk7XG59KTtcbiIsIi8vINCj0LLQtdC70LjRh9C10L3QuNC1INCy0YvRgdC+0YLQsCB0ZXh0YXJlYSDQv9C+INC80LXRgNC1INC30LDQv9C+0LvQvdC10L3QuNGPXG5jb25zdCBmb3JtVGV4dGFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGV4dGFyZWEnKVswXTtcbmZvcm1UZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSBgJHtmb3JtVGV4dGFyZWEuc2Nyb2xsSGVpZ2h0ICsgMjB9cHhgO1xuXG5mb3JtVGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZlbnQpID0+IHtcbiAgZm9ybVRleHRhcmVhLnN0eWxlLmhlaWdodCA9ICc0MHB4JztcbiAgZm9ybVRleHRhcmVhLnN0eWxlLmhlaWdodCA9IGAke2V2ZW50LnRhcmdldC5zY3JvbGxIZWlnaHR9cHhgO1xufSk7XG5cbi8vINCh0YfQtdGC0YfQuNC6INC60L7Qu9C40YfQtdGB0YLQstCwINCx0YPQutCyINCyINC/0L7Qu9GP0YUg0YTQvtGA0LzRiyDQtNC+0LHQsNCy0LvQtdC90LjRjyDRgtCw0YHQutCwXG5mdW5jdGlvbiBjb3VudENoYXJzQXRGaWVsZChmaWVsZCwgbnVtc0ZpZWxkLCBtYXgpIHtcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtmaWVsZH1gKTtcbiAgbGV0IGluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbJHtudW1zRmllbGR9XWApO1xuICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy52YWx1ZS5sZW5ndGggPT09IG1heCkge1xuICAgICAgaW5mby5pbm5lckhUTUwgPSAnTWF4IGxlbmd0aCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluZm8uaW5uZXJIVE1MID0gYCR7dGhpcy52YWx1ZS5sZW5ndGh9LyR7bWF4fWA7XG4gICAgfVxuICB9KTtcbn1cblxuY291bnRDaGFyc0F0RmllbGQoJ2lkX3RpdGxlJywgJ2RhdGEtdGl0bGUtbnVtYmVyJywgMzYpO1xuY291bnRDaGFyc0F0RmllbGQoJ2lkX2Rlc2NyaXB0aW9uJywgJ2RhdGEtZGVzY3JpcHRpb24tbnVtYmVyJywgMjAwKTtcblxuXG4vLyDQmNGB0LrQu9GO0YfQuNGC0LXQu9GM0L3QviDQtNC70Y8g0YHRgtGA0LDQvdC40YbRiyBhcHAvdXBkYXRlLzxpZD5cbmZ1bmN0aW9uIHNldENvdW50Q2hhcnNBdEZpZWxkKGZpZWxkLCBudW1zRmllbGQsIG1heCkge1xuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2ZpZWxkfWApO1xuICBsZXQgaW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFske251bXNGaWVsZH1dYCk7XG4gIGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPT09IG1heCkge1xuICAgIGluZm8uaW5uZXJIVE1MID0gJ01heCBsZW5ndGgnO1xuICB9IGVsc2Uge1xuICAgIGluZm8uaW5uZXJIVE1MID0gYCR7aW5wdXQudmFsdWUubGVuZ3RofS8ke21heH1gO1xuICB9XG5cbn1cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xuICBzZXRDb3VudENoYXJzQXRGaWVsZCgnaWRfdGl0bGUnLCAnZGF0YS10aXRsZS1udW1iZXInLCAzNik7XG4gIHNldENvdW50Q2hhcnNBdEZpZWxkKCdpZF9kZXNjcmlwdGlvbicsICdkYXRhLWRlc2NyaXB0aW9uLW51bWJlcicsIDIwMCk7XG59KSJdfQ==
